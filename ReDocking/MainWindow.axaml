<Window x:Class="ReDocking.MainWindow"
        xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:local="using:ReDocking"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:ui="clr-namespace:FluentAvalonia.UI.Controls;assembly=FluentAvalonia"
        Title="ReDocking"
        d:DesignHeight="450"
        d:DesignWidth="800"
        x:DataType="local:MainWindowViewModel"
        RequestedThemeVariant="Dark"
        mc:Ignorable="d">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.ThemeDictionaries>
                <ResourceDictionary x:Key="Light">
                    <SolidColorBrush x:Key="EdgeDividerBrush">#0F000000</SolidColorBrush>
                    <!-- <SolidColorBrush x:Key="EdgeDividerBrush">#FFEBEBEB</SolidColorBrush> -->
                </ResourceDictionary>
                <ResourceDictionary x:Key="Dark">
                    <SolidColorBrush x:Key="EdgeDividerBrush">#12FFFFFF</SolidColorBrush>
                    <!-- <SolidColorBrush x:Key="EdgeDividerBrush">#37000000</SolidColorBrush> -->
                </ResourceDictionary>
            </ResourceDictionary.ThemeDictionaries>
            <ControlTheme x:Key="EdgeButton"
                          BasedOn="{StaticResource TransparentButton}"
                          TargetType="Button">
                <Setter Property="Width" Value="32" />
                <Setter Property="Height" Value="32" />
                <Setter Property="Padding" Value="0" />
                <Setter Property="VerticalContentAlignment" Value="Center" />
                <Setter Property="HorizontalContentAlignment" Value="Center" />
            </ControlTheme>
            <DataTemplate x:Key="LeftEdgeButtonDataTemplate" x:DataType="local:ToolWindowViewModel">
                <local:EdgeBarButton IsChecked="{Binding IsSelected.Value}"
                                     ToolTip.Placement="Right"
                                     ToolTip.ShowDelay="200"
                                     ToolTip.Tip="{Binding Name.Value}"
                                     ToolTip.VerticalOffset="0">
                    <local:EdgeBarButton.IconSource>
                        <ui:FontIconSource FontFamily="{StaticResource SymbolThemeFontFamily}" Glyph="{Binding Icon.Value}" />
                    </local:EdgeBarButton.IconSource>
                </local:EdgeBarButton>
            </DataTemplate>
            <DataTemplate x:Key="RightEdgeButtonDataTemplate" x:DataType="local:ToolWindowViewModel">
                <local:EdgeBarButton IsChecked="{Binding IsSelected.Value}"
                                     ToolTip.Placement="Left"
                                     ToolTip.ShowDelay="200"
                                     ToolTip.Tip="{Binding Name.Value}"
                                     ToolTip.VerticalOffset="0">
                    <local:EdgeBarButton.IconSource>
                        <ui:FontIconSource FontFamily="{StaticResource SymbolThemeFontFamily}" Glyph="{Binding Icon.Value}" />
                    </local:EdgeBarButton.IconSource>
                </local:EdgeBarButton>
            </DataTemplate>
        </ResourceDictionary>
    </Window.Resources>
    <Grid RowDefinitions="40,1,*">
        <Grid Name="TitleBar" ColumnDefinitions="*,40">
            <Button Grid.Column="1"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Theme="{StaticResource EdgeButton}">
                <ui:SymbolIcon Symbol="Setting" />
            </Button>
        </Grid>
        <Border Grid.Row="1" Background="{DynamicResource EdgeDividerBrush}" />
        <local:ReDockHost Grid.Row="2" ButtonMove="OnEdgeBarButtonDrop">
            <local:ReDockHost.DockAreas>
                <local:DockArea EdgeBar="LeftEdgeBar"
                                LocalizedName="左"
                                Location="Left"
                                Target="LeftContent"
                                View="LeftRightArea" />
                <local:DockArea EdgeBar="RightEdgeBar"
                                LocalizedName="右"
                                Location="Right"
                                Target="RightContent"
                                View="LeftRightArea" />
                <local:DockArea EdgeBar="LeftEdgeBar"
                                LocalizedName="左上"
                                Location="TopLeft"
                                Target="LeftContent"
                                View="TopLeftRightArea" />
                <local:DockArea EdgeBar="RightEdgeBar"
                                LocalizedName="右上"
                                Location="TopRight"
                                Target="RightContent"
                                View="TopLeftRightArea" />
                <local:DockArea EdgeBar="LeftEdgeBar"
                                LocalizedName="左下"
                                Location="BottomLeft"
                                Target="LeftContent"
                                View="BottomLeftRightArea" />
                <local:DockArea EdgeBar="RightEdgeBar"
                                LocalizedName="右下"
                                Location="BottomRight"
                                Target="RightContent"
                                View="BottomLeftRightArea" />
            </local:ReDockHost.DockAreas>
            <Grid ColumnDefinitions="40,*,40">
                <local:EdgeBar Name="LeftEdgeBar"
                               BorderBrush="{DynamicResource EdgeDividerBrush}"
                               BorderThickness="0,0,1,0"
                               BottomToolsSource="{Binding LeftBottomTools}"
                               ItemTemplate="{StaticResource LeftEdgeButtonDataTemplate}"
                               Location="Left"
                               ToolsSource="{Binding LeftTools}"
                               TopToolsSource="{Binding LeftTopTools}" />

                <local:ReDock Name="LeftRightArea"
                              Grid.Column="1"
                              LeftContent="{Binding SelectedLeftTool.Value}"
                              RightContent="{Binding SelectedRightTool.Value}">
                    <local:VerticallySplittedView>
                        <local:VerticallySplittedView.TopContent>
                            <local:ReDock Name="TopLeftRightArea"
                                          LeftContent="{Binding SelectedLeftTopTool.Value}"
                                          RightContent="{Binding SelectedRightTopTool.Value}">
                                <!--  <Border HorizontalAlignment="Stretch"  -->
                                <!--  VerticalAlignment="Stretch"  -->
                                <!--  BackgroundSizing="InnerBorderEdge"  -->
                                <!--  BorderBrush="White"  -->
                                <!--  BorderThickness="1">  -->
                                <!--  <Border Width="600"  -->
                                <!--  Height="337"  -->
                                <!--  HorizontalAlignment="Center"  -->
                                <!--  VerticalAlignment="Center"  -->
                                <!--  Background="Black" />  -->
                                <!-- </Border> -->
                            </local:ReDock>
                        </local:VerticallySplittedView.TopContent>
                        <local:VerticallySplittedView.BottomContent>
                            <local:HorizontallySplittedView Name="BottomLeftRightArea"
                                                            LeftContent="{Binding SelectedLeftBottomTool.Value}"
                                                            RightContent="{Binding SelectedRightBottomTool.Value}" />
                        </local:VerticallySplittedView.BottomContent>
                    </local:VerticallySplittedView>
                </local:ReDock>
                <local:EdgeBar Name="RightEdgeBar"
                               Grid.Column="2"
                               BorderBrush="{DynamicResource EdgeDividerBrush}"
                               BorderThickness="1,0,0,0"
                               BottomToolsSource="{Binding RightBottomTools}"
                               ItemTemplate="{StaticResource RightEdgeButtonDataTemplate}"
                               Location="Right"
                               ToolsSource="{Binding RightTools}"
                               TopToolsSource="{Binding RightTopTools}" />
            </Grid>
        </local:ReDockHost>
    </Grid>
</Window>