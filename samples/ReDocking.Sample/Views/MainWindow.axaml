<Window x:Class="ReDocking.Views.MainWindow"
        xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:dock="using:ReDocking"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:ui="clr-namespace:FluentAvalonia.UI.Controls;assembly=FluentAvalonia"
        xmlns:viewModels="clr-namespace:ReDocking.ViewModels"
        Title="ReDocking"
        d:DesignHeight="450"
        d:DesignWidth="800"
        x:DataType="viewModels:MainWindowViewModel"
        mc:Ignorable="d">
    <Window.Resources>
        <ResourceDictionary>
            <ControlTheme x:Key="SettingsButton"
                          BasedOn="{StaticResource TransparentButton}"
                          TargetType="Button">
                <Setter Property="Width" Value="32" />
                <Setter Property="Height" Value="32" />
                <Setter Property="Padding" Value="0" />
                <Setter Property="VerticalContentAlignment" Value="Center" />
                <Setter Property="HorizontalContentAlignment" Value="Center" />
            </ControlTheme>
            <DataTemplate x:Key="LeftSideBarButtonDataTemplate" x:DataType="viewModels:ToolWindowViewModel">
                <dock:SideBarButton DisplayMode="{Binding DisplayMode.Value}"
                                    IsChecked="{Binding IsSelected.Value}"
                                    ToolTip.Placement="Right"
                                    ToolTip.ShowDelay="200"
                                    ToolTip.Tip="{Binding Name.Value}"
                                    ToolTip.VerticalOffset="0">
                    <ui:FontIcon FontFamily="{StaticResource SymbolThemeFontFamily}" Glyph="{Binding Icon.Value}" />
                </dock:SideBarButton>
            </DataTemplate>
            <DataTemplate x:Key="RightSideBarButtonDataTemplate" x:DataType="viewModels:ToolWindowViewModel">
                <dock:SideBarButton DisplayMode="{Binding DisplayMode.Value}"
                                    IsChecked="{Binding IsSelected.Value}"
                                    ToolTip.Placement="Left"
                                    ToolTip.ShowDelay="200"
                                    ToolTip.Tip="{Binding Name.Value}"
                                    ToolTip.VerticalOffset="0">
                    <ui:FontIcon FontFamily="{StaticResource SymbolThemeFontFamily}" Glyph="{Binding Icon.Value}" />
                </dock:SideBarButton>
            </DataTemplate>
        </ResourceDictionary>
    </Window.Resources>
    <Window.Styles>
        <Style Selector="ui|TabView">
            <Setter Property="Padding" Value="0" />
        </Style>
    </Window.Styles>
    <Grid RowDefinitions="40,1,*">
        <Grid Name="TitleBar" ColumnDefinitions="*,40">
            <Button Grid.Column="1"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Theme="{StaticResource SettingsButton}">
                <ui:SymbolIcon Symbol="Setting" />
            </Button>
        </Grid>
        <Border Grid.Row="1" Background="{DynamicResource SideDividerBrush}" />
        <dock:ReDockHost Grid.Row="2"
                         ButtonDisplayModeChanged="OnSideBarButtonDisplayModeChanged"
                         ButtonMove="OnSideBarButtonDrop"
                         IsFloatingEnabled="True">
            <dock:ReDockHost.DockAreas>
                <dock:DockArea LocalizedName="Left"
                               Location="Left"
                               SideBar="LeftSideBar"
                               Target="LeftContent"
                               View="LeftRightArea" />
                <dock:DockArea LocalizedName="Right"
                               Location="Right"
                               SideBar="RightSideBar"
                               Target="RightContent"
                               View="LeftRightArea" />
                <dock:DockArea LocalizedName="TopLeft"
                               Location="TopLeft"
                               SideBar="LeftSideBar"
                               Target="LeftContent"
                               View="TopLeftRightArea" />
                <dock:DockArea LocalizedName="TopRight"
                               Location="TopRight"
                               SideBar="RightSideBar"
                               Target="RightContent"
                               View="TopLeftRightArea" />
                <dock:DockArea LocalizedName="BottomLeft"
                               Location="BottomLeft"
                               SideBar="LeftSideBar"
                               Target="LeftContent"
                               View="BottomLeftRightArea" />
                <dock:DockArea LocalizedName="BottomRight"
                               Location="BottomRight"
                               SideBar="RightSideBar"
                               Target="RightContent"
                               View="BottomLeftRightArea" />
            </dock:ReDockHost.DockAreas>
            <Grid ColumnDefinitions="40,*,40">
                <dock:SideBar Name="LeftSideBar"
                              BorderBrush="{DynamicResource SideDividerBrush}"
                              BorderThickness="0,0,1,0"
                              BottomToolsSource="{Binding LeftBottomTools}"
                              ItemTemplate="{StaticResource LeftSideBarButtonDataTemplate}"
                              Location="Left"
                              ToolsSource="{Binding LeftTools}"
                              TopToolsSource="{Binding LeftTopTools}" />

                <dock:ReDock Name="LeftRightArea"
                             Grid.Column="1"
                             LeftContent="{Binding SelectedLeftTool.Value}"
                             RightContent="{Binding SelectedRightTool.Value}">
                    <dock:ReDock.LeftContentTemplate>
                        <DataTemplate x:DataType="viewModels:ToolWindowViewModel">
                            <ContentControl Content="{Binding Content.Value}" />
                        </DataTemplate>
                    </dock:ReDock.LeftContentTemplate>
                    <dock:ReDock.RightContentTemplate>
                        <DataTemplate x:DataType="viewModels:ToolWindowViewModel">
                            <ContentControl Content="{Binding Content.Value}" />
                        </DataTemplate>
                    </dock:ReDock.RightContentTemplate>
                    <dock:VerticallySplittedView>
                        <dock:VerticallySplittedView.TopContent>
                            <dock:ReDock Name="TopLeftRightArea"
                                         LeftContent="{Binding SelectedLeftTopTool.Value}"
                                         RightContent="{Binding SelectedRightTopTool.Value}">
                                <dock:ReDock.LeftContentTemplate>
                                    <DataTemplate x:DataType="viewModels:ToolWindowViewModel">
                                        <ContentControl Content="{Binding Content.Value}" />
                                    </DataTemplate>
                                </dock:ReDock.LeftContentTemplate>
                                <dock:ReDock.RightContentTemplate>
                                    <DataTemplate x:DataType="viewModels:ToolWindowViewModel">
                                        <ContentControl Content="{Binding Content.Value}" />
                                    </DataTemplate>
                                </dock:ReDock.RightContentTemplate>
                                <ui:TabView>
                                    <ui:TabViewItem Header="File 1" />
                                    <ui:TabViewItem Header="File 2" />
                                    <ui:TabViewItem Header="File 3" />
                                </ui:TabView>
                            </dock:ReDock>
                        </dock:VerticallySplittedView.TopContent>
                        <dock:VerticallySplittedView.BottomContent>
                            <dock:HorizontallySplittedView Name="BottomLeftRightArea"
                                                           LeftContent="{Binding SelectedLeftBottomTool.Value}"
                                                           RightContent="{Binding SelectedRightBottomTool.Value}">
                                <dock:HorizontallySplittedView.LeftContentTemplate>
                                    <DataTemplate x:DataType="viewModels:ToolWindowViewModel">
                                        <ContentControl Content="{Binding Content.Value}" />
                                    </DataTemplate>
                                </dock:HorizontallySplittedView.LeftContentTemplate>
                                <dock:HorizontallySplittedView.RightContentTemplate>
                                    <DataTemplate x:DataType="viewModels:ToolWindowViewModel">
                                        <ContentControl Content="{Binding Content.Value}" />
                                    </DataTemplate>
                                </dock:HorizontallySplittedView.RightContentTemplate>
                            </dock:HorizontallySplittedView>
                        </dock:VerticallySplittedView.BottomContent>
                    </dock:VerticallySplittedView>
                </dock:ReDock>
                <dock:SideBar Name="RightSideBar"
                              Grid.Column="2"
                              BorderBrush="{DynamicResource SideDividerBrush}"
                              BorderThickness="1,0,0,0"
                              BottomToolsSource="{Binding RightBottomTools}"
                              ItemTemplate="{StaticResource RightSideBarButtonDataTemplate}"
                              Location="Right"
                              ToolsSource="{Binding RightTools}"
                              TopToolsSource="{Binding RightTopTools}" />
            </Grid>
        </dock:ReDockHost>
    </Grid>
</Window>